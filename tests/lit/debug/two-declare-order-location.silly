// RUN: rm -rf %t.dir
// RUN: mkdir %t.dir
// RUN: %ExeSilly -g -c --emit-mlir %s -o %t.dir/two-declare-order-location.mlir
// RUN: %FileCheck %s --input-file=%t.dir/two-declare-order-location.mlir
// Capture location labels from the declare ops
// CHECK:      {{%[0-9]+}} = "silly.declare"(){{.*}}loc(#loc[[LOC_A:[0-9]+]])
// CHECK:      {{%[0-9]+}} = "silly.declare"(){{.*}}loc(#loc[[LOC_B:[0-9]+]])

// Verify the locations point to the correct source lines
// CHECK: #loc[[LOC_A]] = loc("{{.*}}two-declare-order-location.silly":30:
// CHECK: #loc[[LOC_B]] = loc("{{.*}}two-declare-order-location.silly":32:

// At one point the silly builder was generating declarations out of order (new
// declarations were always inserted into the very beginning of the function
// block).  I fixed that (new declarations now use an insertion point that
// is just after the last declaration.)
// The debug_names don't end up in order, but that shouldn't matter.
//
// This test case verifies that the declarations are in program order by looking
// at the corresponding location info, and checking that against the source line
// numbers.







// (space padding above enough to ensure that the 'a' declaration is on line 30, even things are adjusted above)
INT32 a; // line 30
PRINT a;
INT32 b; // line 32
EXIT 0;
