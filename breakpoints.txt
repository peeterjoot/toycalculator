# This is a gdb script.  Use it like so from tests/endtoend/
#
# gdb -q ../../build/bin/silly ; source ../../breakpoints.txt
#
# (bin/debugit does this)

b main
# pick which sample program to use for the compiler debugging.
#run function_plist.silly --stdout --emit-mlir --no-emit-object --debug -g --emit-llvm
#run stringlit.silly --stdout --emit-mlir --no-emit-object --debug -g --emit-llvm
run function_return.silly --stdout --emit-mlir --no-emit-object --debug -g --emit-llvm
#run bool.silly --stdout --emit-mlir --no-emit-object --debug -g --emit-llvm
#run function_void_intparm.silly --stdout --emit-mlir --no-emit-object --debug -g --emit-llvm

b __assert_perror_fail

b markExplicitTerminator
b wasTerminatorExplicit

#b buildUnaryExpression
#b createDICompileUnit
#b createDICompileUnitAttr
#b createDISubprogram
#b createFuncDebug
#b createLocalSymbolReference
#b createPrintCall
#b DebugTranslation::DebugTranslation
#b enterBinaryexpression
#b enterUnaryexpression
b exitReturnstatement
#b getDbgRecordRange
#b lookupAllocaForVar
#b lookupDeclareForVar
#b lookupFuncNameForOp
#b lookupLocalSymbolReference
#b mlir::createSillyToLLVMLoweringPass
#b ProgramOpLowering::matchAndRewrite
#b ReturnOpLowering::matchAndRewrite
#b ScopeOpLowering::matchAndRewrite
#b silly::AssignOpLowering::matchAndRewrite
#b silly::DeclareOpLowering::matchAndRewrite
#b silly::ExitOpLowering::matchAndRewrite
#b silly::FuncOp::addEntryBlock
#b silly::FuncOpLowering::matchAndRewrite
#b silly::LoadOpLowering::matchAndRewrite
#b silly::MLIRListener::createScope
#b silly::MLIRListener::enterAssignment
#b silly::MLIRListener::enterAssignmentExpression
#b silly::MLIRListener::enterBoolDeclare
#b silly::MLIRListener::enterCall
#b silly::MLIRListener::enterDeclare
#b silly::MLIRListener::enterExitStatement
#b silly::MLIRListener::enterExitStatement
#b silly::MLIRListener::enterFloatDeclare
#b silly::MLIRListener::enterFunction
#b silly::MLIRListener::enterIfelifelse
#b silly::MLIRListener::enterIntDeclare
#b silly::MLIRListener::enterPrint
b silly::MLIRListener::enterReturnStatement
#b silly::MLIRListener::enterStartRule
#b silly::MLIRListener::enterStringDeclare
#b silly::MLIRListener::exitFunction
#b silly::MLIRListener::exitStartRule
#b silly::MLIRListener::lookupDeclareForVar
#b silly::MLIRListener::processReturnLike
#b silly::MLIRListener::registerDeclaration
#b silly::PrintOpLowering::matchAndRewrite
#b silly::ProgramOpLowering::matchAndRewrite
#b SillyToLLVMLoweringPass::runOnOperation
#b translateModuleToLLVMIR
